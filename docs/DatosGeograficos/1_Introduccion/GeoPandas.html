
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GeoPandas &#8212; Ciencia de Datos y Aprendizaje Autom谩tico</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Ejercicios Geo I" href="ejercicio/ejercicio.html" />
    <link rel="prev" title="Datos geograficos con Python" href="../README.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logohumai.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Ciencia de Datos y Aprendizaje Autom谩tico</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Ciencia de Datos y Aprendizaje Autom谩tico
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Introduccion a la Programaci贸n con Python
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/README.html">
   Introducci贸n a Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/1_TiposDatos/tipos-datos.html">
   Introducci贸n a la programaci贸n con Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/1_TiposDatos/ejercicio/ejercicios.html">
   Ejercicios I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/2_Listas_Y_Funciones/listas-funciones.html">
   Listas, Funciones, Errores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/2_Listas_Y_Funciones/ejercicio/ejercicio.html">
   Ejercicios II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/2_Listas_Y_Funciones/ejercicio/adicionales.html">
   Ejercicios Adicionales II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/3_Modulos_Funciones/modulos-funciones.html">
   M贸dulos y Algor铆tmos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/3_Modulos_Funciones/ejercicio/ejercicio.html">
   Ejercicios III
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/4_Intro_Poo/intro-poo.html">
   Programaci贸n orientada a objetos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/4_Intro_Poo/ejercicio/ejercicio.html">
   Ejercicios POO IV
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/5_Poo_Experimento/poo-experimento.html">
   Aplicaci贸n de POO: Experimento de Tiempo de Reacci贸n
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Introduccion/6_Poo_Proyecto/poo-proyecto.html">
   Aplicaci贸n de POO: PACMAN
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Automatizaci贸n
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/README.html">
   Automatizaci贸n y Miner铆a Web
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Otros/gsheets_pytrends.html">
   Pr谩ctica: GSheet y PyTrends
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Automatizaci%C3%B3n_I/automatizacion_pygui_bash_os.html">
   Automatizaci贸n
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Automatizaci%C3%B3n_2/clase_automatizacion_2_gsheets_cron_mails.html">
   Automatizaci贸n II: outputs, env铆o de mail, volcado a GSheets, scheduling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Automatizaci%C3%B3n_2/clase_automatizacion_2_ejercicios.html">
   Ejercicios Automatizaci贸n II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Expresiones_Regulares/expresiones_regulares.html">
   Expresiones Regulares
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Otros/organizando_pdfs.html">
   Ejercicio: Organizando PDFs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Otros/edicion_imagenes.html">
   Edici贸n de Im谩genes con Python
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Miner铆a Web
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/README.html">
   Miner铆a Web con Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/1_HTTP_Inicial/web_scraping_http_inicial.html">
   Web Scraping: Extrayendo datos de Internet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/1_HTTP_Inicial/ejercicio/spinetta.html">
   Ejercicio Scraping I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/scraping_http_avanzado.html">
   Encontrando APIs ocultas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/scraping_avanzado_2.html">
   Pr谩ctica: Scraping Avanzado 2:
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/ejercicio/apis-ocultas.html">
   Ejercicios APIs Ocultas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/scraping_extra_tips.html">
   Tips para scrapear mejor
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/3_Selenium_y_xpath/scraping_por_automatizacion.html">
   Scraping por Automatizaci贸n con Selenium
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Datos Geogr谩ficos
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   Datos geograficos con Python
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   GeoPandas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ejercicio/ejercicio.html">
   Ejercicios Geo I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2_Joins_y_Viz/1_Visualizacion.html">
   GeoPandas Visualizaci贸n
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2_Joins_y_Viz/2_Joins_Espaciales.html">
   Joins Espaciales
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2_Joins_y_Viz/ejercicio/ejercicio.html">
   Ejercicios Geo II
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  APIs
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/README.html">
   APIs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/1_APIs_Geograficas/clase-1.html">
   APIs geogr谩ficas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/1_APIs_Geograficas/clase-1-ejercicios.html">
   APIs Geogr谩ficas: Ejercicios
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/2_APIs_Series_Tiempo/clase-2.html">
   APIs de Series de Tiempo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/2_APIs_Series_Tiempo/ejercicios/ejercicios.html">
   APIs Series de Tiempo: Ejercicios
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  An谩lisis de Datos
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/README.html">
   Analisis de datos con Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/1_Indexing/Indexing.html">
   Indexaci贸n y Agregaci贸n
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/1_Indexing/ejercicio/ejercicio.html">
   Ejercicios Pandas I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/2_Pivot_Table_y_Joins/clase-2.html">
   Pivot tables y joins
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/2_Pivot_Table_y_Joins/clase-2-ejercicios.html">
   Ejercicios Pandas II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/3_Agrupacion_y_Agregacion/agrupacion_agregacion.html">
   Agrupaci贸n
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/3_Agrupacion_y_Agregacion/ejercicio/ejercicio.html">
   Ejercicios Pandas III
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/4_Data_Wrangling_Avanzado/data_wrangling_avanzado.html">
   Data Wrangling Avanzado
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/4_Data_Wrangling_Avanzado/ejercicio/ejercicio.html">
   Ejercicio Pandas IV: Informe macroecon贸mico de Argentina
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/5_Visualizacion/Visualizacion_Pandas.html">
   Visualizaci贸n con Pandas y Matplotlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/5_Visualizacion/Visualizacion_Plotly.html">
   Visualizaci贸n con Plotly
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/5_Visualizacion/Ejercitacion/Ejercitacion_Extra.html">
   Ejercicios Visualizaci贸n
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Matem谩ticas para Aprendizaje Autom谩tico
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../MatematicasParaML/1_Vectores/Vectores.html">
   Vectores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MatematicasParaML/1_Vectores/Ejercicios.html">
   Ejercicios Vectores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MatematicasParaML/2_Matrices/Matrices.html">
   Matrices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MatematicasParaML/3_Factorizacion/Factorizacion.html">
   Factorizaci贸n de matrices
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MatematicasParaML/4_Funciones/Funciones.html">
   Funciones
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MatematicasParaML/4_Funciones/Funciones2.html">
   Funciones 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MatematicasParaML/6_Estadistica/estadistica_prob_1.html">
   Introducci贸n a Estad铆stica y Probabilidad
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MatematicasParaML/6_Estadistica/ejercicios_estadistica.html">
   Ejercicios Estad铆stica y Probabilidad
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MatematicasParaML/7_Probabilidad/Probabilidad.html">
   Probabilidad
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Aprendizaje Autom谩tico
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/README.html">
   Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/1_Introduccion/rls.html">
   Regresi贸n Lineal Simple
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/2_RegresionLinealMultiple/RegresionLinealMultiple.html">
   Regresi贸n Lineal M煤ltiple
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/3_Regularizacion/Regularizacion.html">
   Regularizaci贸n - Optimizaci贸n - Feature Engineering - Pipelines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/5_KNNyArbolesDeDecision/KNN_Arboles.html">
   Modelos no param茅tricos: K-Nearest Neighbours y rboles de decisi贸n
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/6_Ensamble/Bagging%26Boosting.html">
   Ensambles: Bagging &amp; Boosting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/8_ShapyAnomalias/anomaly-detection-shap-values.html">
   Detecci贸n de anomal铆as y explicabilidad de modelos con valores SHAP
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/9_SeriesDeTiempo/1.ARIMA.html">
   Series de tiempo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/9_SeriesDeTiempo/2.Prophet.html">
   Prophet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/10_Recomendacion/sistemas_recomendacion.html">
   Sistemas de Recomendaci贸n
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Audio
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../Audio/README.html">
   Talleres de Audio
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Audio/Audio_I.html">
   Audio I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Audio/Audio_II.html">
   Audio II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Audio/Audio_III.html">
   Audio III
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Talleres
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../Talleres/README.html">
   Talleres
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Talleres/automatizacion.html">
    Taller de Automatizaci贸n
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Talleres/Periodismo_de_datos.html">
   Introducci贸n al Periodismo de Datos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Talleres/DL_Generacion_de_Texto.html">
   Generaci贸n de texto
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Ingenieria de Datos con GCP
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../IngenieriaDeDatosGCP/1_Introducci%C3%B3n_a_GCP_y_Cloud_Computing/Introducci%C3%B3n_a_GCP_y_Cloud_Computing.html">
   Introducci贸n a GCP y Cloud Computing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../IngenieriaDeDatosGCP/2_BigQuery%20y%20SQL/BigQuery_y_SQL.html">
   BigQuery y SQL
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Psicolog铆a Computacional y Neurociencias
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../NeuroIA/tiempo_de_reaccion.html">
   Experimento sencillo de Tiempo de Reacci贸n
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../NeuroIA/no_supervisado_nlp_social_listening.html">
   Aprendizaje no supervisado para NLP en Twitter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../NeuroIA/holland_viz.html">
   Correcci贸n y An谩lisis en Orientaci贸n Vocacional
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../NeuroIA/mypersonality.html">
   MyPersonality
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../NeuroIA/intro_a_ml.html">
   Introducci贸n a Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../NeuroIA/sentiment.html">
   Ejemplo Clasificaci贸n de Opiniones
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../NeuroIA/ejercicios_ml.html">
   Ejercicio ML I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../NeuroIA/sklearn_titanic.html">
   Introducci贸n a Sci-kit Learn
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../NeuroIA/supervisado_okcupid.html">
   Machine Learning sobre OkC
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../NeuroIA/deep_learning_ok.html">
   Deep Learning I
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Colaboraci贸n
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../General/0_Colaboracion/Guia%20para%20armar%20contenido.html">
   Generando contenido
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/DatosGeograficos/1_Introduccion/GeoPandas.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://institutohumai.github.io/cursos-python/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://institutohumai.github.io/cursos-python//issues/new?title=Issue%20on%20page%20%2FDatosGeograficos/1_Introduccion/GeoPandas.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tipos-de-datos-geograficos">
   Tipos de datos geogr谩ficos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduccion-a-geopandas">
   Introducci贸n a GeoPandas
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#importando-datos">
     Importando datos
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#geodataframes-metodos-y-atributos">
       GeoDataFrames: m茅todos y atributos
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#objetos-geometricos">
       Objetos geom茅tricos
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ejercicio">
     Ejercicio
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#operaciones-geograficas">
   Operaciones geogr谩ficas
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mapeando-hospitales">
     Mapeando hospitales
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#calculando-la-cobertura-de-los-bomberos-en-caba">
     Calculando la cobertura de los bomberos en CABA
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ejercicios">
     Ejercicios
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ejercicios-opcionales">
     Ejercicios opcionales
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#distancia-aerea-y-centroide">
     Distancia a茅rea y centroide
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Ejercicios
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>GeoPandas</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tipos-de-datos-geograficos">
   Tipos de datos geogr谩ficos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduccion-a-geopandas">
   Introducci贸n a GeoPandas
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#importando-datos">
     Importando datos
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#geodataframes-metodos-y-atributos">
       GeoDataFrames: m茅todos y atributos
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#objetos-geometricos">
       Objetos geom茅tricos
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ejercicio">
     Ejercicio
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#operaciones-geograficas">
   Operaciones geogr谩ficas
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mapeando-hospitales">
     Mapeando hospitales
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#calculando-la-cobertura-de-los-bomberos-en-caba">
     Calculando la cobertura de los bomberos en CABA
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ejercicios">
     Ejercicios
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ejercicios-opcionales">
     Ejercicios opcionales
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#distancia-aerea-y-centroide">
     Distancia a茅rea y centroide
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Ejercicios
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <p><a class="reference external" href="https://colab.research.google.com/github/institutohumai/cursos-python/blob/master/DatosGeograficos/1_Introduccion/GeoPandas.ipynb"><img alt="Open In colab" src="https://colab.research.google.com/assets/colab-badge.svg" /></a></p>
<div class="tex2jax_ignore mathjax_ignore section" id="geopandas">
<h1>GeoPandas<a class="headerlink" href="#geopandas" title="Permalink to this headline">露</a></h1>
<p>I. Tabla de contenidos</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>I. Tipos de datos geogr谩ficos
II. Introducci贸n a GeoPandas
    I. Importando datos
        I. GeoDataFrames: m茅todos y atributos
        II. Objetos geom茅tricos
    II. Ejercicio
III. Operaciones geogr谩ficas
    I. Mapeando hospitales
    II. Calculando la cobertura de los bomberos en CABA
    III. Ejercicios
    IV. Ejercicios opcionales
    V. Distancia a茅rea y centroide
    VI. Ejercicios
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># !pip install geopandas</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># !apt install libspatialindex-dev</span>
<span class="c1"># !pip install rtree</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">geopandas</span>
<span class="kn">import</span> <span class="nn">shapely.wkt</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<div class="section" id="tipos-de-datos-geograficos">
<h2>Tipos de datos geogr谩ficos<a class="headerlink" href="#tipos-de-datos-geograficos" title="Permalink to this headline">露</a></h2>
<p>La informaci贸n geogr谩fica generalmente se agrupa en dos grandes categor铆as:</p>
<ul class="simple">
<li><p>Datos r谩ster</p></li>
<li><p>Datos vectoriales</p></li>
</ul>
<p><strong>R谩ster</strong>: Los datos r谩ster son aquellos donde la informaci贸n se encuentra codificada sobre una grilla o red, donde cada celda (o p铆xel) presenta un valor num茅rico. Los datos r谩ster son usados com煤nmente en im谩genes satelitales, en este caso cada p铆xel representa un espacio definido por la granularidad o calidad de la imagen tomada, por ejemplo, un p铆xel puede representar una superficie de 30 metros por 30 metros.</p>
<p>Sin embargo, en esta clase nos vamos a concentrar en los datos <strong>vectoriales</strong>. En los datos vectoriales contamos con los siguientes tipos de objetos b谩sicos: puntos, l铆neas, pol铆gonos; as铆 tambi茅n tenemos multipunto, multil铆nea y multipol铆gono. La informaci贸n se estructura a partir de las coordenadas de los v茅rtices de cada uno de esos objetos.</p>
</div>
<div class="section" id="introduccion-a-geopandas">
<h2>Introducci贸n a GeoPandas<a class="headerlink" href="#introduccion-a-geopandas" title="Permalink to this headline">露</a></h2>
<p>GeoPandas es la librer铆a de Python por excelencia para el procesamiento de datos vectoriales. Provee f谩cil acceso a una serie de funcionalidades empleando diversas librer铆as:</p>
<ul class="simple">
<li><p>Manipulaci贸n de datos con Pandas.</p></li>
<li><p>Lectura de archivos espaciales a trav茅s de Fiona.</p></li>
<li><p>Objetos vectoriales y operaciones vectoriales con Shapely.</p></li>
<li><p>Visualizaci贸n de mapas con Descartes y Matplotlib.</p></li>
</ul>
<div class="section" id="importando-datos">
<h3>Importando datos<a class="headerlink" href="#importando-datos" title="Permalink to this headline">露</a></h3>
<p>La datos vectoriales com煤nmente se presenta en archivos como el formato shapefile (.shp) de ESRI, archivos GeoJSON, bases de PostGIS (es una extensi贸n del motor de bases de datos PostgreSQL), etc.
Con la librer铆a <strong>GeoPandas</strong> se pueden leer muchos de estos archivos, interfaceando con la librer铆a GDAL/OGR, usando la funci贸n geopandas.read_file.
Adem谩s, tambi茅n es posible leer informaci贸n geogr谩fica desde archivos planos (.csv) donde tenemos las coordenadas de puntos que referencian alg煤n objeto. Por 煤ltimo, tambi茅n existen casos en los que la informaci贸n est谩 guardada en formato WKT (Well-Known Text).</p>
<p>En esta notebook vamos a ver distintas formas de importar informaci贸n geogr谩fica de archivos vectoriales.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># https://data.buenosaires.gob.ar/dataset/barrios</span>
<span class="n">barrios</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://datasets-humai.s3.amazonaws.com/datasets/barrios.csv&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrios</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>WKT</th>
      <th>BARRIO</th>
      <th>COMUNA</th>
      <th>PERIMETRO</th>
      <th>AREA</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>POLYGON ((-58.4528200492791 -34.5959886570639,...</td>
      <td>CHACARITA</td>
      <td>15.0</td>
      <td>7725.695228</td>
      <td>3.118101e+06</td>
    </tr>
    <tr>
      <th>1</th>
      <td>POLYGON ((-58.4655768128541 -34.5965577078058,...</td>
      <td>PATERNAL</td>
      <td>15.0</td>
      <td>7087.513295</td>
      <td>2.229829e+06</td>
    </tr>
    <tr>
      <th>2</th>
      <td>POLYGON ((-58.4237529813037 -34.5978273383243,...</td>
      <td>VILLA CRESPO</td>
      <td>15.0</td>
      <td>8132.699348</td>
      <td>3.613584e+06</td>
    </tr>
    <tr>
      <th>3</th>
      <td>POLYGON ((-58.4946097568899 -34.6148652395239,...</td>
      <td>VILLA DEL PARQUE</td>
      <td>11.0</td>
      <td>7705.389797</td>
      <td>3.399596e+06</td>
    </tr>
    <tr>
      <th>4</th>
      <td>POLYGON ((-58.4128700313089 -34.6141162515854,...</td>
      <td>ALMAGRO</td>
      <td>5.0</td>
      <td>8537.901368</td>
      <td>4.050752e+06</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># En este caso la informaci贸n est谩 en WKT</span>
<span class="n">barrios</span><span class="p">[</span><span class="s2">&quot;WKT&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="geodataframes-metodos-y-atributos">
<h4>GeoDataFrames: m茅todos y atributos<a class="headerlink" href="#geodataframes-metodos-y-atributos" title="Permalink to this headline">露</a></h4>
<p>Los GeoDataFrame son objetos que tienen los mismos atributos que un Pandas DataFrame, con lo cual se puede manipular de datos a la que estamos acostumbrados. Como, por ejemplo, el m茅todo .plot(), acceso por .loc, .iloc, etc.
Adem谩s, los GeoDataFrames tienen un atributo <em>geometry</em> que indica la columna que contiene la informaci贸n geogr谩fica.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">from_wkt</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">wkt_column</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="s1">&#39;EPSG:4326&#39;</span><span class="p">):</span>
    
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;coordinates&quot;</span><span class="p">]</span><span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">wkt_column</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">shapely</span><span class="o">.</span><span class="n">wkt</span><span class="o">.</span><span class="n">loads</span><span class="p">)</span> <span class="c1"># empleamos una funci贸n de shapely para leer WKT</span>
        
    <span class="n">gdf</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">geometry</span><span class="o">=</span><span class="s1">&#39;coordinates&#39;</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="n">crs</span><span class="p">)</span> <span class="c1"># seteamos la columna de geometr铆a</span>
    
    <span class="k">return</span> <span class="n">gdf</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrios</span> <span class="o">=</span> <span class="n">from_wkt</span><span class="p">(</span><span class="n">barrios</span><span class="p">,</span> <span class="s2">&quot;WKT&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrios</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;BARRIO == &#39;CABALLITO&#39;&quot;</span><span class="p">)</span> <span class="c1"># podemos usar query</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>WKT</th>
      <th>BARRIO</th>
      <th>COMUNA</th>
      <th>PERIMETRO</th>
      <th>AREA</th>
      <th>coordinates</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5</th>
      <td>POLYGON ((-58.4306058283309 -34.6070470885963,...</td>
      <td>CABALLITO</td>
      <td>6.0</td>
      <td>10990.964471</td>
      <td>6.851029e+06</td>
      <td>POLYGON ((-58.43061 -34.60705, -58.43056 -34.6...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrios</span><span class="p">[</span><span class="n">barrios</span><span class="p">[</span><span class="s1">&#39;BARRIO&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;CABALLITO&#39;</span><span class="p">]</span> <span class="c1"># podemos hacer boolean indexing</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>WKT</th>
      <th>BARRIO</th>
      <th>COMUNA</th>
      <th>PERIMETRO</th>
      <th>AREA</th>
      <th>coordinates</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5</th>
      <td>POLYGON ((-58.4306058283309 -34.6070470885963,...</td>
      <td>CABALLITO</td>
      <td>6.0</td>
      <td>10990.964471</td>
      <td>6.851029e+06</td>
      <td>POLYGON ((-58.43061 -34.60705, -58.43056 -34.6...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrios</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span> <span class="c1"># BOOM: con uds. CABA!</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/GeoPandas_19_0.png" src="../../_images/GeoPandas_19_0.png" />
</div>
</div>
<p>A diferencia del Pandas DataFrame, tiene un atributo que mantiene la informaci贸n de la geometr铆a.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrios</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">head</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    POLYGON ((-58.45282 -34.59599, -58.45366 -34.5...
1    POLYGON ((-58.46558 -34.59656, -58.46562 -34.5...
2    POLYGON ((-58.42375 -34.59783, -58.42495 -34.5...
3    POLYGON ((-58.49461 -34.61487, -58.49479 -34.6...
4    POLYGON ((-58.41287 -34.61412, -58.41282 -34.6...
Name: coordinates, dtype: geometry
</pre></div>
</div>
</div>
</div>
<p>Noten que cada barrio es un pol铆gono</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrios</span><span class="o">.</span><span class="n">crs</span> <span class="o">=</span> <span class="s2">&quot;EPSG:4326&quot;</span> <span class="c1"># seteamos el &#39;coordinate reference system&#39;, EPSG 4326 equivale a WGS 84</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="objetos-geometricos">
<h4>Objetos geom茅tricos<a class="headerlink" href="#objetos-geometricos" title="Permalink to this headline">露</a></h4>
<p>La librer铆a shapely nos provee acceso a los objetos geom茅tricos. Con ella podemos generar los objetos Point, Polygon y Line. Veamos un ejemplo.</p>
<p>Adem谩s, podemos especificar la proyecci贸n pasando el par谩metro crs. Para ver c贸mo transformar una proyecci贸n se puede ir a: <a class="reference external" href="http://geopandas.readthedocs.io/en/latest/projections.html">http://geopandas.readthedocs.io/en/latest/projections.html</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">Point</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mf">58.396295</span><span class="p">,</span> <span class="o">-</span><span class="mf">34.591789</span><span class="p">)</span> <span class="c1"># Armo un punto a partir de dos coordenadas geogr谩ficas</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">]})</span> <span class="c1"># Armo un DataFrame</span>

<span class="n">gdf</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="s2">&quot;EPSG:4326&quot;</span><span class="p">,</span> <span class="n">geometry</span><span class="o">=</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdf</span> <span class="c1"># este es un GeoDataFrame con un solo punto</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>POINT (-58.39630 -34.59179)</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Matplotlib funciona graficando capas. Para poder asociar distintas capas a un mismo gr谩fico es necesario instanciar un objeto AxesSubplot al cual referenciar.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span> <span class="c1"># Noten que vamos a reutilizar el axis (ax) en cada plot. </span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">barrios</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span> <span class="c1"># Esto es para evitar que las capas se ploteen separadas.</span>
<span class="n">gdf</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/GeoPandas_30_0.png" src="../../_images/GeoPandas_30_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Si quisi茅ramos podemos cambiar la proyecci贸n empleando el m茅todo .to_crs()</p>
<p>Ahora hagamos un plot de uno solo de los barrios, habiendo reproyectado el mapa.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">palermo</span> <span class="o">=</span> <span class="n">barrios</span><span class="p">[</span><span class="n">barrios</span><span class="p">[</span><span class="s2">&quot;BARRIO&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;MATADEROS&quot;</span><span class="p">]</span>
<span class="n">palermo</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">epsg</span> <span class="o">=</span> <span class="mi">3395</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span> <span class="c1">#EPSG 3395 es World Mercator. Noten los valores de los ejes, qu茅 distintos son a 4326</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f3138979048&gt;
</pre></div>
</div>
<img alt="../../_images/GeoPandas_34_1.png" src="../../_images/GeoPandas_34_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="ejercicio">
<h3>Ejercicio<a class="headerlink" href="#ejercicio" title="Permalink to this headline">露</a></h3>
<p>1- En Google Maps buscar un punto en el barrio de Mataderos y guardar las coordenadas</p>
<p>2- Graficar el barrio junto al punto en EPSG 3395. Antes, piensen bien qu茅 proyecci贸n usa Google Maps.</p>
</div>
</div>
<div class="section" id="operaciones-geograficas">
<h2>Operaciones geogr谩ficas<a class="headerlink" href="#operaciones-geograficas" title="Permalink to this headline">露</a></h2>
<p>En geopandas tenemos distintos m茅todos para realizar diferentes operaciones geogr谩ficas:
- equals
- contains
- crosses
- disjoint
- overlaps
- touches
- within
- covers
- contains
- intersects
- intersection
- union
- unary_union
- difference
- overlay (difference, intersection, symmetric_difference)
- sjoin</p>
<p>En el siguiente link se tiene una referencia de varios de estos m茅todos, los heredados de shapely:
<a class="reference external" href="https://shapely.readthedocs.io/en/stable/manual.html#predicates-and-relationships">https://shapely.readthedocs.io/en/stable/manual.html#predicates-and-relationships</a></p>
<div class="section" id="mapeando-hospitales">
<h3>Mapeando hospitales<a class="headerlink" href="#mapeando-hospitales" title="Permalink to this headline">露</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># https://data.buenosaires.gob.ar/dataset/hospitales</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hospitales</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://datasets-humai.s3.amazonaws.com/datasets/hospitales.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hospitales</span>
</pre></div>
</div>
</div>
</div>
<p>N贸tese que en este caso la informaci贸n no viene en WKT sino que contamos con una columna long y una columna lat. Vamos a ver c贸mo construir manualmente un punto, y luego vamos a iterar por cada fila construyendo el punto de cada hospital.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">Point</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/GeoPandas_44_0.svg" src="../../_images/GeoPandas_44_0.svg" /></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">from_x_y</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="s1">&#39;EPSG:4326&#39;</span><span class="p">):</span>
    <span class="n">gdf</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="c1"># eliminamos las columnas originales</span>
                                <span class="n">crs</span><span class="o">=</span><span class="n">crs</span><span class="p">,</span> <span class="c1"># Agregamos CRS</span>
                                <span class="n">geometry</span><span class="o">=</span><span class="n">geopandas</span><span class="o">.</span><span class="n">points_from_xy</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">y</span><span class="p">]))</span> <span class="c1"># junto &quot;x&quot; e &quot;y&quot; y lo paso a Point</span>
    <span class="k">return</span> <span class="n">gdf</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hospitales</span> <span class="o">=</span> <span class="n">from_x_y</span><span class="p">(</span><span class="n">hospitales</span><span class="p">,</span> <span class="s2">&quot;long&quot;</span><span class="p">,</span> <span class="s2">&quot;lat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">barrios</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">hospitales</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/GeoPandas_47_0.png" src="../../_images/GeoPandas_47_0.png" />
</div>
</div>
<p>Tomemos dos hospitales y grafiquemos una l铆nea entre ambos puntos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hospital_a</span> <span class="o">=</span> <span class="n">hospitales</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;geometry&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hospital_b</span> <span class="o">=</span> <span class="n">hospitales</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;geometry&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">LineString</span> <span class="c1"># Objeto l铆nea</span>

<span class="n">linea</span> <span class="o">=</span> <span class="n">LineString</span><span class="p">([</span><span class="n">hospital_a</span><span class="p">,</span> <span class="n">hospital_b</span><span class="p">])</span>
<span class="n">linea</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/GeoPandas_51_0.svg" src="../../_images/GeoPandas_51_0.svg" /></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">puntos_y_linea</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">([</span><span class="n">hospital_a</span><span class="p">,</span> <span class="n">hospital_b</span><span class="p">,</span> <span class="n">linea</span><span class="p">])</span> <span class="c1"># Noten que estamos guardando dos puntos y una l铆nea</span>
<span class="n">puntos_y_linea</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab10&#39;</span><span class="p">);</span> <span class="c1"># ploteo todo</span>
<span class="nb">type</span><span class="p">(</span><span class="n">puntos_y_linea</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>geopandas.geoseries.GeoSeries
</pre></div>
</div>
<img alt="../../_images/GeoPandas_52_1.png" src="../../_images/GeoPandas_52_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrio</span> <span class="o">=</span> <span class="n">barrios</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">barrios</span><span class="p">[</span><span class="s2">&quot;BARRIO&quot;</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;BARRACAS&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Con el m茅todo <strong>GeoDataFrame.contains</strong> podemos ver si un pol铆gono contiene un punto.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrio</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">hospital_a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>29    True
dtype: bool
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrio</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">hospital_b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>29    False
dtype: bool
</pre></div>
</div>
</div>
</div>
<p>Con el m茅todo <strong>GeoDataFrame.crosses</strong> podemos ver si una geometr铆a corta otra. En este caso, para cada barrio podemos ver si se corta con la l铆nea marcada entre los dos hospitales.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrios</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">crosses</span><span class="p">(</span><span class="n">linea</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    False
1    False
2    False
3    False
4    False
dtype: bool
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrios</span><span class="p">[</span><span class="n">barrios</span><span class="o">.</span><span class="n">crosses</span><span class="p">(</span><span class="n">linea</span><span class="p">)]</span><span class="o">.</span><span class="n">BARRIO</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>11    CONSTITUCION
24       BALVANERA
29        BARRACAS
41       MONSERRAT
44        RECOLETA
Name: BARRIO, dtype: object
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculando-la-cobertura-de-los-bomberos-en-caba">
<h3>Calculando la cobertura de los bomberos en CABA<a class="headerlink" href="#calculando-la-cobertura-de-los-bomberos-en-caba" title="Permalink to this headline">露</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># https://data.buenosaires.gob.ar/dataset/cuarteles-destacamentos-bomberos</span>
<span class="n">bomberos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://datasets-humai.s3.amazonaws.com/datasets/bomberos.csv&quot;</span><span class="p">)</span>
<span class="n">bomberos</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>long</th>
      <th>lat</th>
      <th>dcia</th>
      <th>tipo</th>
      <th>cuartel</th>
      <th>gestion</th>
      <th>calle_ofic</th>
      <th>inters</th>
      <th>altura</th>
      <th>direcci</th>
      <th>tel</th>
      <th>barrio</th>
      <th>comuna</th>
      <th>codigo_postal</th>
      <th>codigo_postal_argentino</th>
      <th>observacion</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>-58.435809</td>
      <td>-34.577526</td>
      <td>DESTACAMENTO PALERMO</td>
      <td>DESTACAMENTO</td>
      <td>NaN</td>
      <td>Polic铆a de la Ciudad</td>
      <td>GUATEMALA</td>
      <td>NaN</td>
      <td>5966</td>
      <td>5966 GUATEMALA</td>
      <td>4772-2222</td>
      <td>Palermo</td>
      <td>Comuna 14</td>
      <td>1425</td>
      <td>C1425BVP</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>-58.487654</td>
      <td>-34.644895</td>
      <td>DESTACAMENTO VELEZ SARSFIELD</td>
      <td>DESTACAMENTO</td>
      <td>NaN</td>
      <td>Polic铆a de la Ciudad</td>
      <td>RODO JOSE E.</td>
      <td>NaN</td>
      <td>4474</td>
      <td>4474 RODO JOSE E.</td>
      <td>4671-2222</td>
      <td>Parque Avellaneda</td>
      <td>Comuna 9</td>
      <td>1407</td>
      <td>C1407HDR</td>
      <td>Brigada Especial Federal De Rescate (BEFER)</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>-58.435415</td>
      <td>-34.630275</td>
      <td>DESTACAMENTO GER CABALLITO</td>
      <td>DESTACAMENTO</td>
      <td>NaN</td>
      <td>Polic铆a de la Ciudad</td>
      <td>RIGLOS</td>
      <td>NaN</td>
      <td>959</td>
      <td>959 RIGLOS</td>
      <td>4921-2737</td>
      <td>Parque Chacabuco</td>
      <td>Comuna 7</td>
      <td>1424</td>
      <td>C1424AFS</td>
      <td>Brigada Especial Federal De Rescate (BEFER)</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bomberos</span> <span class="o">=</span> <span class="n">from_x_y</span><span class="p">(</span><span class="n">bomberos</span><span class="p">,</span> <span class="s2">&quot;long&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">barrios</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">bomberos</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/GeoPandas_63_0.png" src="../../_images/GeoPandas_63_0.png" />
</div>
</div>
<p>Imag铆nese que se desea bacer el siguiente an谩lisis: suponiendo que cada delegaci贸n de bomberos tiene un alcance de hasta 1.5 km (ACLARACIN: este valor no se basa en la realidad) se desean obtener los lugares abarcados y los no abarcados por el servicio.</p>
<p>Para ello primero tendremos que convertir la proyecci贸n a una proyecci贸n que nos permita trabajar en metros y no en grados. Para eso usaremos la proyecci贸n  Gauss-Krueger Buenos Aires.</p>
<p>Para obtener los datos de proyecci贸n se puede entrar a <a class="reference external" href="http://spatialreference.org/">http://spatialreference.org/</a></p>
<p>Convertimos nuestros datasets a GKBA</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrios_gkba</span> <span class="o">=</span> <span class="n">barrios</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">crs</span> <span class="o">=</span> <span class="s2">&quot;+proj=tmerc +lat_0=-34.629269 +lon_0=-58.4633 +k=0.9999980000000001 +x_0=100000 +y_0=100000 +ellps=intl +units=m +no_defs&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bomberos_gkba</span> <span class="o">=</span> <span class="n">bomberos</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">crs</span> <span class="o">=</span> <span class="s2">&quot;+proj=tmerc +lat_0=-34.629269 +lon_0=-58.4633 +k=0.9999980000000001 +x_0=100000 +y_0=100000 +ellps=intl +units=m +no_defs&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Veamos c贸mo son los valores de la geometr铆a ahora</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bomberos_gkba</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">geometry</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    POINT (102522.494 105739.771)
1      POINT (97767.105 98266.211)
2     POINT (102557.088 99887.991)
3     POINT (98539.106 108425.610)
4    POINT (106892.933 101766.659)
Name: geometry, dtype: geometry
</pre></div>
</div>
</div>
</div>
<p>Armamos un buffer de 1500 metros alrededor de cada cuartel y delegaci贸n de bomberos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bomberos_gkba_buff</span> <span class="o">=</span> <span class="n">bomberos_gkba</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">bomberos_gkba_buff</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">bomberos_gkba</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mi">1500</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Vamos a plotear el 谩rea cubierta por los bomberos</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">barrios_gkba</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">bomberos_gkba_buff</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/GeoPandas_74_0.png" src="../../_images/GeoPandas_74_0.png" />
</div>
</div>
<p>Ahora vamos a ver c贸mo calcular el 谩rea cubierta y el 谩rea no cubierta. El 谩rea cubierta es la <strong>intersecci贸n</strong> entre la capa de barrios y la capa de bomberos (con su buffer). Por otro lado, el 谩rea no cubierta es la <strong>diferencia</strong> entre la capa de barrios y la capa de bomberos (con su buffer).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">interseccion</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="n">bomberos_gkba_buff</span><span class="p">,</span> <span class="n">barrios_gkba</span><span class="p">,</span> <span class="n">how</span> <span class="o">=</span> <span class="s2">&quot;intersection&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">interseccion</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/GeoPandas_77_0.png" src="../../_images/GeoPandas_77_0.png" />
</div>
</div>
<p>Los GeoDataFrame tienen un atributo con el valor del 谩rea ya calculada para cada pol铆gono, ve谩moslo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">interseccion</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">area</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    4.856944e+05
1    9.135930e+05
2    3.073288e+06
3    1.162122e+06
4    6.557971e+05
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Sin embargo, como podemos ver en la figura anterior, hay superposici贸n entre los pol铆gonos, con lo cual estar铆a doblecontabilizando parte del 谩rea. Para poder tener un buen c谩lculo del 谩rea primero debemos unir todos los pol铆gonos en uno solo, de esa manera estaremos resolviendo la duplicaci贸n.</p>
<p>Para poder hacer eso vamos a tener que emplear <strong>dissolve</strong>. Esta funci贸n junta geometr铆as dentro de una columna que se usa para agrupar. Por ejemplo, si quisi茅ramos calcular el 谩rea cubierta por barrio. Sin embargo, en nuestro caso queremos juntar todas las geometr铆as en una sola. Para ello usaremos un truco, construiremos una columna constante y la usaremos para agrupar. Nota: es obligatorio pasar una columna de agrupamiento, si no fuera as铆 no ser铆a necesario este truco.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">interseccion</span><span class="p">[</span><span class="s2">&quot;const&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">interseccion</span><span class="o">.</span><span class="n">dissolve</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;const&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span> <span class="c1"># los barrios agrupados</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f3137a7ed68&gt;
</pre></div>
</div>
<img alt="../../_images/GeoPandas_83_1.png" src="../../_images/GeoPandas_83_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;La cantidad total de metros que est谩n cubiertos por bomberos es:&quot;</span><span class="p">,</span> 
      <span class="nb">round</span><span class="p">(</span><span class="n">interseccion</span><span class="o">.</span><span class="n">dissolve</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;const&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">area</span><span class="o">.</span><span class="n">sum</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>La cantidad total de metros que est谩n cubiertos por bomberos es: 141080651.0
</pre></div>
</div>
</div>
</div>
<p>Ahora calculemos el 谩rea no cubierta por el servicio, con el mismo procedimiento que antes pero empleando <strong>difference</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">diferencia</span> <span class="o">=</span> <span class="n">geopandas</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="n">barrios_gkba</span><span class="p">,</span> <span class="n">bomberos_gkba_buff</span><span class="p">,</span> <span class="n">how</span> <span class="o">=</span> <span class="s2">&quot;difference&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">diferencia</span><span class="p">[</span><span class="s2">&quot;const&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">diferencia</span><span class="o">.</span><span class="n">dissolve</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;const&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span> <span class="c1"># los barrios agrupados</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f3137a09518&gt;
</pre></div>
</div>
<img alt="../../_images/GeoPandas_87_1.png" src="../../_images/GeoPandas_87_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;La cantidad total de metros que no est谩n cubiertos por bomberos es:&quot;</span><span class="p">,</span> 
      <span class="n">diferencia</span><span class="o">.</span><span class="n">dissolve</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;const&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">area</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>La cantidad total de metros que no est谩n cubiertos por bomberos es: 62191574.9743366
</pre></div>
</div>
</div>
</div>
<p>Ahora, veamos con qu茅 precisi贸n estamos haciendo nuestro calculo. Vamos a ver la diferencia entre las 谩reas computadas y el total de 谩rea en Buenos Aires.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">diferencia</span><span class="o">.</span><span class="n">dissolve</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;const&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">area</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">+</span> <span class="n">interseccion</span><span class="o">.</span><span class="n">dissolve</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;const&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">area</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>203272225.9202038
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">barrios_gkba</span><span class="o">.</span><span class="n">area</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>203272225.92020506
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ejercicios">
<h3>Ejercicios<a class="headerlink" href="#ejercicios" title="Permalink to this headline">露</a></h3>
<p>1- Calcule <strong>cu谩ntos metros</strong> cuadrados de FLORES tienen cobertura por el servicio de bomberos.</p>
<p>2- Calcule qu茅 <strong>porcentaje</strong> de FLORES tiene cobertura por el servicio de bomberos.</p>
</div>
<div class="section" id="ejercicios-opcionales">
<h3>Ejercicios opcionales<a class="headerlink" href="#ejercicios-opcionales" title="Permalink to this headline">露</a></h3>
<p>1- Empleando la funci贸n overlay realizar una uni贸n entre barrios_gkba y bomberos_gkba_buff y graficar, interpretar lo obtenido.</p>
<p>2- Empleando la funci贸n overlay realizar una diferencia entre barrios_gkba y bomberos_gkba_buff (como hicimos antes) y graficar, y comparar con un gr谩fico de la diferencia sim茅trica. Comparar ambos casos.</p>
<p>3- Un atributo de los GeoDataFrame es la frontera, la cual se puede acceder desde .boundary. Probar el m茅todo con un gr谩fico.</p>
</div>
<div class="section" id="distancia-aerea-y-centroide">
<h3>Distancia a茅rea y centroide<a class="headerlink" href="#distancia-aerea-y-centroide" title="Permalink to this headline">露</a></h3>
<p>Otro uso muy com煤n en operaciones geogr谩ficas, especialmente cuando hacemos an谩lisis urbanos, es el c谩lculo de una <strong>distancia</strong>. Por simplicidad en este caso vamos a calcular la distancia a茅rea (o distancia euclidea).</p>
<p>En ciertos casos es necesario tener una mayor precisi贸n, para lo cual necesitamos calcular las distancias bas谩ndonos en el callejero de la ciudad y, en ocasiones, en los sentidos de las calles (si la distancia a recorrer es en un auto, o cami贸n).</p>
<p>Por otra parte, para representar el centro de un pol铆gono usamos el concepto de <strong>centroide</strong>.</p>
<p>Supongamos que se desea conocer cu谩les son las 3 delegaciones de bomberos m谩s cercanas al centro de Palermo, para ello podemos:
- Calcular el centroide
- Calcula la distancia a todos los centros de bomberos
- Quedarnos con los tres m谩s cercanos</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">palermo</span> <span class="o">=</span> <span class="n">barrios_gkba</span><span class="p">[</span><span class="n">barrios_gkba</span><span class="p">[</span><span class="s2">&quot;BARRIO&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;PALERMO&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">caballito</span> <span class="o">=</span> <span class="n">barrios_gkba</span><span class="p">[</span><span class="n">barrios_gkba</span><span class="p">[</span><span class="s2">&quot;BARRIO&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;CABALLITO&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">centroid</span> <span class="o">=</span> <span class="n">palermo</span><span class="o">.</span><span class="n">centroid</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">caballito_centroide</span> <span class="o">=</span> <span class="n">caballito</span><span class="o">.</span><span class="n">centroid</span> <span class="c1"># vean que el centroide es una geoserie con un punto</span>
<span class="n">palermo_centroide</span> <span class="o">=</span> <span class="n">palermo</span><span class="o">.</span><span class="n">centroid</span>
<span class="n">palermo_centroide</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>33    POINT (103749.893 106141.469)
dtype: geometry
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">barrios_gkba</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">caballito_centroide</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">palermo_centroide</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">bomberos_gkba</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/GeoPandas_99_0.png" src="../../_images/GeoPandas_99_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">centroide</span> <span class="o">=</span> <span class="n">caballito_centroide</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># nos quedamos s贸lo con el valor (que es un Point)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mas_cercanos</span> <span class="o">=</span> <span class="n">bomberos_gkba</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">centroide</span><span class="p">))</span><span class="o">.</span><span class="n">nsmallest</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mas_cercanos</span> <span class="o">=</span> <span class="n">bomberos_gkba</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mas_cercanos</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">barrios_gkba</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">caballito_centroide</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">bomberos_gkba</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span> <span class="c1"># esta capa tiene TODAS las delegaciones de bomberos</span>
<span class="n">mas_cercanos</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span> <span class="c1"># esta capa tiene s贸lo las 3 delegaciones m谩s cercanas y pisa la capa anterior</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/GeoPandas_103_0.png" src="../../_images/GeoPandas_103_0.png" />
</div>
</div>
</div>
<div class="section" id="id1">
<h3>Ejercicios<a class="headerlink" href="#id1" title="Permalink to this headline">露</a></h3>
<p>1- Imaginemos que hay un incendio en Recoleta y un incendio en Monte Castro. Por conveniencia tomemos el centroide de cada barrio.</p>
<p>2- El gobierno decide ocupar las delegaciones de los bomberos seg煤n la proximidad, es decir, debemos asignar cada de delegaci贸n al incendio m谩s cercano. Entonces, decida a qu茅 incendio se va a enfocar cada delegaci贸n.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-geopandas_env-py"
        },
        kernelOptions: {
            kernelName: "conda-env-geopandas_env-py",
            path: "./DatosGeograficos/1_Introduccion"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-geopandas_env-py'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../README.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Datos geograficos con Python</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="ejercicio/ejercicio.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Ejercicios Geo I</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Mat铆as Grinberg<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>